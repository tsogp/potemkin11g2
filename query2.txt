-- для примера рассматривается пользователь с id = 1

-- выгрузка личной информации в профиль
SELECT
	email,
	username,
	password,
	phone_number,
	address,
	birth_date,
	created_at
FROM user
WHERE user.id = 1;

-- выгрузка корзины пользователя (в корзине только неоплаченные товары)
SELECT
	(SELECT name FROM product WHERE id = product_id) AS product_name,
	price,
	amount, 
	date_created
FROM cart_item
WHERE cart_item.user_id = 1 AND cart_item.order_id IS NULL;

-- просмотр оплаченных заказов
SELECT
	total_price,
	user_email,
	user_phone,
	user_note,
	address,
	created_at AS payment_received_at
FROM purchased_order
WHERE purchased_order.user_id = 1;